"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const iogates_1 = require("../../src/lib/iogates");
const shareUrl = 'https://share-web02-transferapp.iogates.com/show/15/59817e24914f1/bb56d48bc997112f511304b18b51806b/dir/373/373/0/0/0';
describe('Downloader', () => {
    let ioGates;
    // Act before assertions
    beforeAll(() => {
        ioGates = new iogates_1.IOGates();
    });
    // Assert if setTimeout was called properly
    it('should have a `authenticate` method', () => {
        expect(ioGates.authenticateFromUrl).toBeDefined();
    });
    it('should have `readFiles` method', () => {
        expect(ioGates.readFiles).toBeDefined();
    });
    describe('flow through and', () => {
        beforeAll(() => tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield ioGates.authenticateFromUrl(shareUrl);
        }));
        it('retrieve files from server', () => {
            return ioGates
                .readFiles()
                .then((files) => {
                console.log(files);
                expect(files.files).toBeDefined();
                expect(files.files).toHaveLength(2);
            });
        });
    });
});
//# sourceMappingURL=iogates.spec.js.map